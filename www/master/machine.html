<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Nova Machine</title>
  <link href="css/bootstrap-3.3.6.css" rel="stylesheet">
  <script src="js/jquery-2.2.4.js"></script>
  <script src="js/bootstrap-3.3.6.js"></script>
  <script language="javascript">

  function check_input()
  {
    var ip_regex=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/;
    var num_regex=/[0-9]+/;
    if(!ip_regex.test(add_p.pnode_ip.value))
    {
        alert("Ip address format error!");
        add_p.pnode_ip.focus();
        return false;
    }
    if(!num_regex.test(add_p.pnode_vmCapacity.value))
    {
        alert("VmCapacity should be numbers!");
        add_p.pnode_vmCapacity.focus();
        return false;
    }

  }
  </script>
</head>
 
<body>
<!---------------------- Page Header  ------------------------------->
  <div class="container">

     <div class="page-header">
      <h1> Tsinghua NOVA <small>- for scalability, redundancy and fault tolerance</small></h1>
    </div>
    <!-- page-header -->
    
    
    <!-- navbar -->
    <div class="navbar navbar-inverse">
      <div class="container-fluid">
        <ul class="nav navbar-nav pull-left">
          <li class=""><a href="overview">Overview</a></li>
          <li class=""><a href="instance">Instances</a></li>
          <li class="active"><a href="machine">Machines</a></li>
          <li class=""><a href="image">Images</a></li>
          <li class=""><a href="monitor">Monitor</a></li>
          <li class=""><a href="account">Account</a></li>
        </ul>

        <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button">${username}<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">privilege: <em>${userprivilege}</em></a></li>
            <li role="separator" class="divider"></li>
            <li><a href="logout"><strong>Logout</strong></a></li>
          </ul>
        </li>
      </ul>
      </div>
    </div>
    <!-- navbar -->
    
    
    <!--
    <!---------------------- Worker Machine  ------------------------------->
	<br>
  <div>
      <div class="pull-left">
        <h3> Worker Machines </h3>
      </div>
       	    <div class="pull-right">
       	       <a data-toggle="modal" href="#AddWorker_Modal" class="btn btn-primary"> Add Worker </a>
       	       <a class="btn btn-success" href="machine"> Refresh </a>
       	    </div>
    </div>  
   
    <!-- Add worker modal(Hide) -->
	  <div id="AddWorker_Modal" class="modal fade">
	   <div class="modal-dialog" role="document">
        <div class="modal-content">
	    <div class="modal-header">
	      <a class="close" data-dismiss="modal" >&times;</a>
	      <h3>Add a new worker</h3>
	    </div>
	    
	    <form id="add_p" action="add_pnode" method="post" class="form-horizontal well" onsubmit="return check_input();">
	        <div class="modal-body">
		      	<div class="control-group">
					<label class="control-label">Worker IP Address:</label>
       					  <div class="controls">
       						  <input class="form-control" size="16" type="text" name="pnode_ip">
       					  </div>
				</div>
				<div class="control-group">
					<label class="control-label">VM Capacity:</label>
       					  <div class="controls">
       						  <input class="form-control" size="16" type="text" name="pnode_vmCapacity">
       					  </div>
				</div>
	        </div>
	        <div class="modal-footer">
	      		<a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>
	      		<button type="submit" class="btn btn-primary" >Create</button>
	    	</div>
	    </form>
	   </div>
      </div>
       	  </div>
	  <!-- AddWorker_Modal -->
    
    
    
	<table class="table table-striped table-hover">  
		<thead>
			<tr>
			<th>Id</th>
			<th>Ip Address</th>
			<th>Port</th>
			<th>Host Name</th>
			<th>Mac Address</th>
			<th>VM Capacity</th>
			<th>Status</th> 
			<th>Action</th>
			</tr>
		</thead>
		
		<tbody>
			${pnode_show}
		</tbody>
		
	</table>	
   
    <!---------------------- Page Footer  ------------------------------->
	<footer class="footer">
      <hr>
      <p><a href="https://github.com/nova-dev-team">Tsinghua NOVA dev team</a>, 2010 - 2016</p>
      <p>This is a <em>free software</em> distributed under MIT license. </p>
    </footer>
    <!-- footer -->

  </div>
  <!-- container --> 
 <script> ${launch_module_show} </script>
</body>
</html>

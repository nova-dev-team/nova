# WARNING! This file is automatically generated by "rake gen".
# WARNING! Any modification to it would be lost after another "rake gen" operation!

# Automatically generated at Sat Dec 05 16:34:10 +0800 2009

CC=gcc
CFLAGS=-Wall -Iapp -Icore -Itest -Ixdk 
LDFLAGS=-lpthread

default: bin obj app 

bin:
	mkdir -p bin

obj:
	mkdir -p obj/app
	mkdir -p obj/core
	mkdir -p obj/test
	mkdir -p obj/xdk


clean:
	rm -rf bin
	rm -rf obj

app: bin obj obj/app/ndss-ftp.o bin/ndss obj/app/ndss.o

obj/app/ndss.o: app/ndss.c xdk/xmemory.h app/ndss-ftp.h
	$(CC) $(CFLAGS) -c app/ndss.c -o obj/app/ndss.o

obj/app/ndss-ftp.o: app/ndss-ftp.c app/ndss-ftp.h
	$(CC) $(CFLAGS) -c app/ndss-ftp.c -o obj/app/ndss-ftp.o

bin/ndss: obj/app/ndss.o obj/xdk/xmemory.o obj/app/ndss-ftp.o
	$(CC) $(CFLAGS) $(LDFLAGS) obj/app/ndss.o obj/xdk/xmemory.o obj/app/ndss-ftp.o -o bin/ndss


obj/core/attr.o: core/attr.c 
	$(CC) $(CFLAGS) -c core/attr.c -o obj/core/attr.o

core: bin obj obj/core/attr.o


bin/test_xhash: obj/test/test_xhash.o obj/xdk/xhash.o obj/xdk/xmemory.o
	$(CC) $(CFLAGS) $(LDFLAGS) obj/test/test_xhash.o obj/xdk/xhash.o obj/xdk/xmemory.o -o bin/test_xhash

obj/test/test_xutils.o: test/test_xutils.c xdk/xutils.h
	$(CC) $(CFLAGS) -c test/test_xutils.c -o obj/test/test_xutils.o

obj/test/test_ftp.o: test/test_ftp.c xdk/xmemory.h
	$(CC) $(CFLAGS) -c test/test_ftp.c -o obj/test/test_ftp.o

bin/test_ftp: obj/test/test_ftp.o obj/xdk/xmemory.o
	$(CC) $(CFLAGS) $(LDFLAGS) obj/test/test_ftp.o obj/xdk/xmemory.o -o bin/test_ftp

obj/test/test_xhash.o: test/test_xhash.c xdk/xhash.h xdk/xmemory.h
	$(CC) $(CFLAGS) -c test/test_xhash.c -o obj/test/test_xhash.o

obj/test/test_xmemory.o: test/test_xmemory.c xdk/xmemory.h
	$(CC) $(CFLAGS) -c test/test_xmemory.c -o obj/test/test_xmemory.o

bin/test_xmemory: obj/test/test_xmemory.o obj/xdk/xmemory.o
	$(CC) $(CFLAGS) $(LDFLAGS) obj/test/test_xmemory.o obj/xdk/xmemory.o -o bin/test_xmemory

test: bin obj bin/test_xutils obj/test/test_xutils.o bin/test_xmemory obj/test/test_xmemory.o bin/test_xhash obj/test/test_xhash.o bin/test_ftp obj/test/test_ftp.o

bin/test_xutils: obj/test/test_xutils.o obj/xdk/xutils.o
	$(CC) $(CFLAGS) $(LDFLAGS) obj/test/test_xutils.o obj/xdk/xutils.o -o bin/test_xutils


obj/xdk/xhash.o: xdk/xhash.c xdk/xhash.h xdk/xmemory.h
	$(CC) $(CFLAGS) -c xdk/xhash.c -o obj/xdk/xhash.o

obj/xdk/xutils.o: xdk/xutils.c xdk/xmemory.h xdk/xutils.h
	$(CC) $(CFLAGS) -c xdk/xutils.c -o obj/xdk/xutils.o

obj/xdk/xmemory.o: xdk/xmemory.c xdk/xmemory.h
	$(CC) $(CFLAGS) -c xdk/xmemory.c -o obj/xdk/xmemory.o

xdk: bin obj obj/xdk/xhash.o obj/xdk/xutils.o obj/xdk/xmemory.o


all: bin obj obj/xdk/xhash.o obj/core/attr.o bin/test_xhash obj/xdk/xutils.o obj/test/test_xutils.o obj/test/test_ftp.o obj/xdk/xmemory.o bin/test_xmemory obj/test/test_xmemory.o obj/test/test_xhash.o bin/test_ftp obj/app/ndss-ftp.o obj/app/ndss.o bin/test_xutils bin/ndss 



